{% extends 'base.html' %}
{% load static %}

{% block content %}
<style>
    body {background:lightpink}
</style>
<div class="authenticated-layout">
    <!-- Authenticated Navigation -->
    <nav class="authenticated-nav">
        <div class="container">
            <a href="{% url 'home' %}">BP Django App</a>
            
            {% if user.is_authenticated %}
                {% if user.profile.avatar %}
                    <img src="{{ user.profile.avatar.url }}" alt="Avatar">
                {% else %}
                    <div class="avatar-placeholder">
                        {{ user.profile.first_name|first|default:user.username|first|upper }}
                    </div>
                {% endif %}

                <span class="user-name">{{ user.profile.first_name|default:user.username }}</span>
                <span class="user-email">{{ user.email }}</span>
                {% if not user.is_verified %}
                    <span class="unverified">Email Doğrulanmamış</span>
                {% endif %}

                <div class="dropdown-menu">
                    <a href="{% url 'accounts:profile' %}">Profil</a>
                    <a href="{% url 'accounts:profile_update' %}">Profili Düzenle</a>
                    <a href="{% url 'accounts:password_change' %}">Şifre Değiştir</a>
                    <a href="{% url 'accounts:email_change' %}">Email Değiştir</a>
                    <a href="{% url 'accounts:username_change' %}">Kullanıcı Adı Değiştir</a>
                    <a href="{% url 'accounts:logout' %}">Çıkış Yap</a>
                </div>


            {% else %}
                <div class="nav-links">
                    <a href="{% url 'accounts:login' %}">Giriş Yap</a>
                    <a href="{% url 'accounts:register' %}">Kayıt Ol</a>
                </div>
            {% endif %}
             
        </div>
    </nav>

    <!-- Main Content Area -->
    <main>
        <div class="container">
            <!-- Messages Display -->
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <div class="message message-{{ message.tags }}">
                            {{ message|safe }}
                        </div>
                    {% endfor %}
                </div>
            {% endif %}

            <!-- Page Content -->
            {% block main_content %}
                <!-- Individual pages will override this -->
            {% endblock %}
        </div>
    </main>
</div>
{% endblock %}