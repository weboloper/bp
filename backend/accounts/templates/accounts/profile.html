{% extends 'base.html' %}

{% block title %}Profil - {{ user.username }}{% endblock %}

{% block header %}Profil{% endblock %}

{% block content %}
<h2>Hoş geldin, {{ user.first_name|default:user.username }}!</h2>

<div >
    <h3>Hesap Bilgilerin</h3>
    
    <div >
        <label>Kullanıcı Adı:</label>
        <span>{{ user.username }}</span>
    </div>
    
    <div >
        <label>Email:</label>
        <span>{{ user.email }} 
            {% if user.is_verified %}
                <span >✅ Doğrulanmış</span>
            {% else %}
                <span >❌ Doğrulanmamış</span>
                <a href="{% url 'accounts:email_verification_resend' %}">Doğrulama linki gönder</a>
            {% endif %}
        </span>
    </div>
    
    {% if user.first_name %}
    <div >
        <label>Ad:</label>
        <span>{{ user.first_name }}</span>
    </div>
    {% endif %}
    
    {% if user.last_name %}
    <div >
        <label>Soyad:</label>
        <span>{{ user.last_name }}</span>
    </div>
    {% endif %}
    
    <div >
        <label>Hesap Durumu:</label>
        <span>{% if user.is_active %}Aktif{% else %}Pasif{% endif %}</span>
    </div>
    
    <div >
        <label>Kayıt Tarihi:</label>
        <span>{{ user.date_joined|date:"d M Y" }}</span>
    </div>
</div>

{% if profile %}
<div >
    <h3>Profil Detayları</h3>
    
    {% if profile.avatar %}
    <div >
        <label>Profil Resmi:</label>
        <img src="{{ profile.avatar.url }}" alt="Profil Resmi" style="max-width: 150px; border-radius: 8px;">
    </div>
    {% endif %}
    
    {% if profile.birth_date %}
    <div >
        <label>Doğum Tarihi:</label>
        <span>{{ profile.birth_date|date:"d M Y" }}</span>
    </div>
    {% endif %}
    
    {% if profile.bio %}
    <div >
        <label>Hakkımda:</label>
        <p>{{ profile.bio }}</p>
    </div>
    {% endif %}
</div>
{% endif %}

<div >
    <h3>İşlemler</h3>
    <ul>
        <li><a href="{% url 'accounts:password_change' %}">Şifre Değiştir</a></li>
        {% if not user.is_verified %}
        <li><a href="{% url 'accounts:email_verification_resend' %}">Email Doğrulama Linki Gönder</a></li>
        {% endif %}
        <li><a href="{% url 'accounts:logout' %}">Çıkış Yap</a></li>
    </ul>
</div>
{% endblock %}